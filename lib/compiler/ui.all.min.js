String.prototype.hasString=function(a){if(typeof a=="object"){for(var b=0,c=a.length;b<c;b++)if(!this.hasString(a[b]))return false;return true}else if(this.indexOf(a)!=-1)return true};String.prototype.breakWord=function(a,b){b||(b="<wbr/>");return this.replace(RegExp("(\\w{"+(a?a:0)+"})(\\w)","g"),function(c,g,o){return g+b+o})};
var UI={ajax:function(){},get:function(a,b,c){if(window.ActiveXObject)var g=new ActiveXObject("Microsoft.XMLHTTP");else if(window.XMLHttpRequest)g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState==4)c(g.responseText);else return false};if(b!=undefined)a+="?"+b;g.open("GET",a,true);g.send(null)},getScript:function(a,b){var c=UI.DC("script");if(b)if(UI.Browser.ie)c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete")b()};else c.onload=b;UI.A(c,"type",
"text/javascript");UI.A(c,"src",a);UI.GT(document,"head")[0].appendChild(c)},getCss:function(a,b){var c=UI.DC("link");if(b)c.onload=b;UI.A(c,"rel","stylesheet");UI.A(c,"type","text/css");UI.A(c,"href",a);UI.GT(document,"head")[0].appendChild(c)},evalScript:function(a){var b=this.regExp.script;a=a.match(new RegExp(b,"img"));UI.each(a,function(c){eval(c.match(new RegExp(b,"im"))[1])})},regExp:{script:"<script[^>]*>([\\S\\s]*?)<\/script>"},url:{encode:function(a){return escape(this._utf8_encode(a))},
decode:function(a){return this._utf8_decode(unescape(a))},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var g=a.charCodeAt(c);if(g<128)b+=String.fromCharCode(g);else{if(g>127&&g<2048)b+=String.fromCharCode(g>>6|192);else{b+=String.fromCharCode(g>>12|224);b+=String.fromCharCode(g>>6&63|128)}b+=String.fromCharCode(g&63|128)}}return b},_utf8_decode:function(a){for(var b="",c=0,g=c1=c2=0;c<a.length;){g=a.charCodeAt(c);if(g<128){b+=String.fromCharCode(g);c++}else if(g>
191&&g<224){c2=a.charCodeAt(c+1);b+=String.fromCharCode((g&31)<<6|c2&63);c+=2}else{c2=a.charCodeAt(c+1);c3=a.charCodeAt(c+2);b+=String.fromCharCode((g&15)<<12|(c2&63)<<6|c3&63);c+=3}}return b}},parseUrl:function(){var a=document.location.href,b={};if(!a.hasString("?"))return b;a=a.split("?")[1].split("&");for(var c=0;c<a.length;c++){var g=a[c].split("=");b[g[0]]=UI.Browser.ie?g[1]:UI.url.decode(g[1])}return b},cookie:function(a,b,c){if(b==undefined){a=a+"=";b=document.cookie.split(";");for(c=0;c<
b.length;c++){for(var g=b[c];g.charAt(0)==" ";)g=g.substring(1,g.length);if(g.indexOf(a)==0)return decodeURIComponent(g.substring(a.length,g.length))}return null}else{g="";if(c){g=new Date;g.setTime(g.getTime()+c*24*60*60*1000);g="; expires="+g.toGMTString()}document.cookie=a+"="+b+g+"; path=/"}},drag:function(a,b,c){var g=document;c=c!=undefined?c:true;UI.EA(a,"mousedown",function(o){b.start&&b.start(o);if(c)if(a.setCapture)a.setCapture();else window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|
Event.MOUSEUP);if(b.drag)g.onmousemove=b.drag;g.onmouseup=function(){if(c)if(a.releaseCapture)a.releaseCapture();else window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);b.stop&&b.stop(o);g.onmousemove=null;g.onmouseup=null;b.call&&b.call(o)}})},animate:function(a,b,c,g){var o=setInterval(function(){var m=UI.C(a,b);if(b=="opacity"){m*=100;c*=100}else m=m=="auto"?0:Number(m.slice(0,-2));if(Math.abs(c-m)<3){m=c;clearInterval(o);eval(g)}UI.C(a,b,b!="opacity"?m+(c-m)*0.4+"px":(m+
(c-m)*0.4)/100+"")},40);return o},getX:function(a){return a.offsetParent?a.offsetLeft+UI.getX(a.offsetParent):a.offsetLeft},getY:function(a){return a.offsetParent?a.offsetTop+UI.getY(a.offsetParent):a.offsetTop},within:function(a,b){var c=UI.getX(b)-UI.scrollX(),g=UI.width(b)+c,o=UI.getY(b)-UI.scrollY();b=UI.height(b)+o;var m={};if(a[0]>c&&a[0]<g&&a[1]>o&&a[1]<b){if(a[0]-c<(g-c)/2)m.left=true;if(a[1]-o<(b-o)/2)m.top=true;return m}},frameX:function(a){return a.frameElement?UI.getX(a.frameElement)+
UI.frameX(a.parent):0},frameY:function(a){return a.frameElement?UI.getY(a.frameElement)+UI.frameY(a.parent):0},width:function(a){return parseInt(a.offsetWidth)},height:function(a){return parseInt(a.offsetHeight)},pageWidth:function(){return document.body.scrollWidth||document.documentElement.scrollWidth},pageHeight:function(){return document.body.scrollHeight||document.documentElement.scrollHeight},windowWidth:function(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth},
windowHeight:function(){var a=document.documentElement;return self.innerHeight||a&&a.clientHeight||document.body.clientHeight},scrollX:function(a){var b=document.documentElement;if(a){var c=a.parentNode,g=a.scrollLeft||0;if(a==b)g=UI.scrollX();return c?g+UI.scrollX(c):g}return self.pageXOffset||b&&b.scrollLeft||document.body.scrollLeft},scrollY:function(a){var b=document.documentElement;if(a){var c=a.parentNode,g=a.scrollTop||0;if(a==b)g=UI.scrollY();return c?g+UI.scrollY(c):g}return self.pageYOffset||
b&&b.scrollTop||document.body.scrollTop},scrollTo:function(a,b,c){if(a==document.documentElement||a==document.body)return window.scrollTo(b,c)},hide:function(a){if(!a)return false;if(UI.isString(a))a=this.G(a);var b=this.C(a,"display");if(b!="none")a.__curDisplay=b;a.style.display="none"},show:function(a){if(!a)return false;if(UI.isString(a))a=this.G(a);a.style.display=a.__curDisplay||""},toggle:function(a){if(UI.isString(a))a=this.G(a);this.C(a,"display")=="none"?this.show(a):this.hide(a)},hasClass:function(a,
b){if(!a.className)return false;return a.className!=a.className.replace(new RegExp("\\b"+b+"\\b"),"")},addClass:function(a,b){if(a.className)if(this.hasClass(a,b))return false;else a.className+=" "+b;else a.className=b},removeClass:function(a,b){a.className=a.className.replace(new RegExp("\\b"+b+"\\b"),"")},toggleClass:function(a,b){this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)},node:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY:6,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10},next:function(a){a=
a.nextSibling;if(a==null)return false;return UI.isElement(a)?a:this.next(a)},prev:function(a){a=a.previousSibling;if(a==null)return false;return UI.isElement(a)?a:this.prev(a)},append:function(a,b){b.appendChild(a)},prepend:function(a,b){var c=b.firstChild;c?UI.before(a,c):UI.append(a,b)},after:function(a,b){var c=b.parentNode;c.lastChild==a?c.appendChild(a):c.insertBefore(a,b.nextSibling)},before:function(a,b){b.parentNode.insertBefore(a,b)},replace:function(a,b){var c=b.parentNode;c.replaceChild(a,
b)},swap:function(){},wrap:function(a,b){if(UI.isString(a)){a.match(/(<[^\/][^<]*>)/g);var c="wrapObject___",g=RegExp.lastMatch;a=a.replace(g,g+'<pre class="'+c+'"></pre>');a=UI.html(a)[0];UI.before(a,b);UI.replace(b,UI.GC(a,"pre."+c)[0])}else{UI.before(a,b);b.appendChild(b)}},html:function(a){var b=UI.DC("div"),c=[];b.innerHTML=a;UI.each(b.childNodes,function(g){c.push(g)});return c},text:function a(b){var c=[];b=b.childNodes;for(var g=0,o=b.length;g<o;g++)c.push(b[g].nodeType!=1?b[g].nodeValue:
a(b[g]));return c.join("")},parent:function(a,b){if(UI.isArray(a)){var c=[];UI.each(a,function(g){if(b&&UI.hasClass(g.parentNode,b)||!b)c.push(g.parentNode)});return c}return a.parentNode},parents:function(a,b){if(b){var c=[];a=UI.parents(a);UI.each(a,function(g){UI.hasClass(g,b)&&c.push(g)});return c}a=a.parentNode;return a.nodeName=="HTML"?[a]:[a].concat(UI.parents(a))},children:function(a,b){var c=[];if(b)b=b.split("|");UI.each(a.childNodes,function(g){var o=false;if(b)for(var m=0,f=b.length;m<
f;m++)if(UI.hasClass(g,b[m])){o=true;break}if(UI.isElement(g)&&(!b||o))c.push(g)});return c},A:function(a,b,c){if(c==undefined)return a.getAttribute(b);else a.setAttribute(b,c)},C:function(a,b,c){if(c==undefined)if(a.currentStyle){if(b=="opacity")return a.style.filter.indexOf("opacity=")>=0?parseFloat(a.style.filter.match(/opacity=([^)]*)/)[1])/100:"1";return a.currentStyle[b]}else{if(window.getComputedStyle){b=b.replace(/([A-Z])/g,"-$1");b=b.toLowerCase();return window.getComputedStyle(a,null).getPropertyValue(b)}}else if(b==
"opacity"&&UI.Browser.ie)a.style.filter=(a.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+c*100+")";else a.style[b]=c},DC:function(a){return document.createElement(a)},E:function(a){if(a&&a.clone)return a;a=window.event||a;return{clone:true,stop:function(){if(a&&a.stopPropagation)a.stopPropagation();else a.cancelBubble=true},prevent:function(){if(a&&a.preventDefault)a.preventDefault();else a.returnValue=false},target:a.target||a.srcElement,x:a.clientX||a.pageX,y:a.clientY||a.pageY,button:a.button,
key:a.keyCode,shift:a.shiftKey,alt:a.altKey,ctrl:a.ctrlKey,type:a.type}},EA:function(a,b,c,g){if(UI.isString(a)){var o=c;c=function(){eval(o)}}if(a.addEventListener){a.addEventListener(b,c,g);return true}else if(a.attachEvent)return a=a.attachEvent("on"+b,c);else return false},ER:function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false);return true}else if(a.detachEvent)return a=a.detachEvent("on"+b,c);else return false},ET:function(a){return a.target||a.srcElement},G:function(a){return document.getElementById(a)},
GT:function(a,b){return a.getElementsByTagName(b)},GC:function(){var a=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,b=/^(?:[\w\-_]+)?\.([\w\-_]+)/,c=/^(?:[\w\-_]+)?#([\w\-_]+)/,g=/^([\w\*\-_]+)/,o=[null,null];function m(h,k){if(!k){k=h;h=document}h=h||document;var n=/^[\w\-_#]+$/.test(k);if(!n&&h.querySelectorAll)return f(h.querySelectorAll(k));if(k.indexOf(",")>-1){k=k.split(/,/g);n=[];for(var e=0,j=k.length;e<j;++e)n=n.concat(m(k[e],h));return p(n)}k=k.match(a);j=k.pop();n=(j.match(c)||
o)[1];e=!n&&(j.match(b)||o)[1];j=!n&&(j.match(g)||o)[1];if(e&&!j&&h.getElementsByClassName)j=f(h.getElementsByClassName(e));else{j=!n&&f(h.getElementsByTagName(j||"*"));if(e)j=i(j,"className",RegExp("(^|\\s)"+e+"(\\s|$)"));if(n)return(h=h.getElementById(n))?[h]:[]}return k[0]&&j[0]?l(k,j):j}function f(h){try{return Array.prototype.slice.call(h)}catch(k){for(var n=[],e=0,j=h.length;e<j;++e)n[e]=h[e];return n}}function l(h,k,n){var e=h.pop();if(e===">")return l(h,k,true);var j=[],q=-1,r=(e.match(c)||
o)[1],t=!r&&(e.match(b)||o)[1];e=!r&&(e.match(g)||o)[1];var w=-1,v,y,x;for(e=e&&e.toLowerCase();v=k[++w];){y=v.parentNode;do{x=(x=(x=!e||e==="*"||e===y.nodeName.toLowerCase())&&(!r||y.id===r))&&(!t||RegExp("(^|\\s)"+t+"(\\s|$)").test(y.className));if(n||x)break}while(y=y.parentNode);if(x)j[++q]=v}return h[0]&&j[0]?l(h,j):j}var p=function(){var h=+new Date,k=function(){var n=1;return function(e){var j=e[h],q=n++;if(!j){e[h]=q;return true}return false}}();return function(n){for(var e=n.length,j=[],
q=-1,r=0,t;r<e;++r){t=n[r];if(k(t))j[++q]=t}h+=1;return j}}();function i(h,k,n){for(var e=-1,j,q=-1,r=[];j=h[++e];)if(n.test(j[k]))r[++q]=j;return r}return m}(),isDate:function(a){if(!a)return a;if(a.getTime&&a.getFullYear&&a.getTimezoneOffset&&a!="NaN"&&a!="Invalid Date")return true},cloneDate:function(a){if(!a)return a;d=new Date;d.setTime(a.getTime());return d},formatDate:function(a,b){var c=b.replace(/\W/g,",").split(","),g=["yyyy","MM","dd","hh","mm","ss","ww"];a={y:a.getFullYear(),M:a.getMonth()+
1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),w:a.getDay()};for(var o=0,m=c.length;o<m;o++)for(var f=c[o],l=0;l<7;l++){var p=g[l].slice(-1);if(f.hasString(p)){if(p=="w"&&a[p]==0)a[p]=7;b=f.hasString(g[l])?b.replace(RegExp(g[l],"g"),this.addZero(a[p])):b.replace(RegExp(g[l].slice(g[l].length/2),"g"),a[p])}}return b},parseDate:function(a,b){b||(b="yyyy-MM-dd");b=b.replace(/\W/g,",").split(",");a=a.replace(/\D/g,",").split(",");var c=2000,g=0,o=1,m=0,f=0,l=0,p=true;UI.each(b,function(i,
h){if(a[h]==""||isNaN(a[h]))p=false;if(i.hasString("y"))c=Number(a[h]);if(i.hasString("M"))g=Number(a[h])-1;if(i.hasString("d"))o=Number(a[h]);if(i.hasString("h"))m=Number(a[h]);if(i.hasString("m"))f=Number(a[h]);if(i.hasString("s"))l=Number(a[h]);if(i.hasString("w"))l=Number(a[h])});if(!p)return false;return new Date(c,g,o,m,f,l)},isArray:function(a){return a!==null&&UI.isObject(a)&&"splice"in a&&"join"in a},isElement:function(a){return a&&a.nodeType==1},isFunction:function(a){return typeof a=="function"},
isNumber:function(a){return typeof a=="number"},isObject:function(a){return typeof a=="object"},isString:function(a){return typeof a=="string"},isUndefined:function(a){return typeof a=="undefined"},addZero:function(a,b){var c=[],g=String(a).length;b||(b=2);if(g<b)for(var o=0;o<b-g;o++)c.push(0);c.push(a);return c.join("")},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},random:function(a,b){if(a==undefined)a=0;if(b==undefined)b=9;return Math.floor(Math.random()*(b-a+1)+a)},has:function(a,b){for(var c=
0,g=a.length;c<g;c++)if(a[c]==b)return true;return false},each:function(a,b){if(UI.isUndefined(a[0]))for(var c in a)UI.isFunction(a[c])||b(c,a[c]);else{c=0;for(var g=a.length;c<g;c++)UI.isFunction(a[c])||b(a[c],c)}},map:function(a,b){if(UI.isString(b))b=eval("(function(a,i) { return "+b+"})");var c=[];UI.each(a,function(g,o){g=b(g,o);if(UI.isArray(g))c=c.concat(g);else c.push(g)});return c},grep:function(a,b){if(UI.isString(b))b=eval("(function(a,i) { return "+b+"})");var c=[];UI.each(a,function(g,
o){b(g,o)&&c.push(g)});return c},merge:function(a,b){var c=[];if(b){UI.each(b,function(g){UI.has(a,g)||c.push(g)});return a.concat(c)}else{UI.each(a,function(g){UI.has(c,g)||c.push(g)});return c}},apart:function(a,b){var c=[];UI.each(a,function(g){UI.has(b,g)||c.push(g)});return c},sort:{number:function(a,b){return a-b},numberDesc:function(a,b){return b-a},string:function(a,b){return a.localeCompare(b)},stringDesc:function(a,b){return b.localeCompare(a)}},ready:function(a){if(UI.ready.done)return a();
if(UI.ready.timer)UI.ready.ready.push(a);else{UI.ready.ready=[a];UI.ready.timer=setInterval(UI.isReady,13)}},isReady:function(){if(UI.ready.done)return false;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){clearInterval(UI.ready.timer);UI.ready.timer=null;for(var a=0;a<UI.ready.ready.length;a++)UI.ready.ready[a]();UI.ready.ready=null;UI.ready.done=true}},Browser:function(){var a={},b=navigator.userAgent;a.ie6=b.hasString("MSIE 6")&&!b.hasString("MSIE 7")&&!b.hasString("MSIE 8");
a.ie=b.hasString("MSIE");a.tt=b.hasString("TencentTraveler");a.opera=window.opera||b.hasString("Opera");a.safari=b.hasString("WebKit");a.maxthon=!!(window.external&&window.external.max_version);return a}()};UI.Browser.ie&&document.execCommand("BackgroundImageCache",false,true);window.console||(console={log:function(){},dir:function(){}});(function(){var a="UI.DatePicker",b=' href="javascript:void(0)"',c=' onfocus="this.blur()"',g=UI.html('<div class="date_picker" onclick="'+a+'.closeSelect();"><div class="wrap"></div><div class="time"><span class="timeTip"></span><span class="timeWrap"><input type="text" maxlength="2" class="hInput" onfocus="this.select();'+a+'.currentTimeSet = this;" onblur="'+a+'.selectedDate.setHours(this.value);" />:<input type="text" maxlength="2" class="mInput" onfocus="this.select();'+a+'.currentTimeSet = this;" onchange="'+
a+'.selectedDate.setMinutes(this.value);"/>:<input type="text" maxlength="2" class="sInput" onfocus="this.select();'+a+'.currentTimeSet = this;" onblur="'+a+'.selectedDate.setSeconds(this.value);"/><button class="timeUp" onmousedown="'+a+".setTime('up','auto')\" onmouseup=\""+a+".setTime('up','no')\" onclick=\""+a+'.setTime(\'up\');"></button><button class="timeDown" onmousedown="'+a+".setTime('down','auto')\" onmouseup=\""+a+".setTime('down','no')\" onclick=\""+a+'.setTime(\'down\');"></button></span><input type="button" class="timeConfirm" onclick="'+
a+'.confirm();" /></div><ul class="list"></ul>'+(UI.Browser.ie6?'<iframe src="javascript:false"></iframe>':"")+"</div>")[0],o;UI.EA(g,"click",p);UI.DatePicker={body:g,wrap:m("wrap"),time:m("time"),list:m("list"),timeTip:m("timeTip"),timeConfirm:m("timeConfirm"),hInput:m("hInput"),mInput:m("mInput"),sInput:m("sInput"),yInput:function(){return UI.GC(this.wrap,".yearInput")[0].firstChild},MInput:function(){return UI.GC(this.wrap,".monthInput")[0].firstChild},iframe:UI.GT(g,"iframe")[0],target:0,format:0,
display:0,lang:0,weekStartDay:1,closeSelectTarget:0,disabledWeeks:[],disabledWeekDays:[],disabledDays:[],currentDate:0,currentWeek:0,currentTimeSet:0,selectedDate:0,selectedWeek:0,selectWeek:0,showWeek:0,tmpDate:0,date:{month:{en:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],en_US:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],zh_CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708",
"\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],zh_TW:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},week:{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Wk"],en_US:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Wk"],zh_CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u5468"],zh_TW:["\u65e5","\u4e00","\u4e8c",
"\u4e09","\u56db","\u4e94","\u516d","\u9031"]},time:{en:"Time",en_US:"Time",zh_CN:"\u65f6\u95f4",zh_TW:"\u6642\u9593"},confirm:{en:"Confirm",en_US:"Confirm",zh_CN:"\u786e \u5b9a",zh_TW:"\u78ba \u5b9a"},today:{en:"Today",en_US:"Today",zh_CN:"\u4eca \u5929",zh_TW:"\u4eca \u5929"},quick:{en:"Quick Selection",en_US:"Quick Selection",zh_CN:"\u5feb\u901f\u9009\u62e9",zh_TW:"\u5feb\u901f\u9078\u64c7"}},show:function(i,h){var k=UI.E(i);k.stop();if(top.UI&&top.UI.DatePicker&&!h.self&&top!=self){UI.EA(document.documentElement,
"click",l);UI.EA(window,"unload",l);top.UI.DatePicker.window=window;top.UI.DatePicker.top=true;top.UI.DatePicker.show(i,h);return false}if(h.target)this.target=h.target;else{this.target=k.target;this.target.select()}UI.EA(this.target,"click",p);this.lang=h.lang?h.lang:"zh_CN";this.weekStartDay=h.weekStartDay?h.weekStartDay:1;this.showWeek=h.showWeek?h.showWeek:false;this.selectWeek=h.selectWeek?(this.showWeek=true):false;this.format=h.format?h.format:"yyyy-MM-dd";this.timeConfirm.value=this.date.confirm[this.lang];
this.disabledWeekDays=[];this.disabledDays=[];this.disabledWeeks=[];var n=new Array(7),e=[],j=[];h.disabledWeekDays&&UI.each(h.disabledWeekDays,function(v){n[v-1]=1});h.disabledWeeks&&UI.each(h.disabledWeeks,function(v){j[v-1]=1});h.disabledDays&&UI.each(h.disabledDays,function(v){e[v-1]=1});this.disabledWeeks=j;this.disabledWeekDays=n.concat(n).slice(this.weekStartDay-1,this.weekStartDay+6);this.disabledDays=e;this.currentWeek=false;if(this.target.value){this.currentDate=UI.parseDate(this.target.value,
this.format);if(this.target.value.hasString(" - "))this.currentWeek=true}else if(UI.isArray(this.target)){var q=[];UI.each(this.target,function(v){q.push("INPUT,TEXTAREA".hasString(v.nodeName)?v.value:v.innerHTML)});this.currentDate=q[0]?UI.parseDate(q.join(","),this.format):null}else this.currentDate=null;if(!UI.isDate(this.currentDate))this.currentDate=null;this.selectedDate=UI.cloneDate(this.currentDate);this.fill();if(!this.currentTimeSet)this.currentTimeSet=this.mInput;this.closeSelectTarget=
null;UI.EA(document.documentElement,"click",f);if(!o){document.body.appendChild(this.body);o=1}i=UI.getX(k.target);h=UI.getY(k.target)+UI.height(k.target);UI.scrollX(k.target);UI.scrollY(k.target);if(this.top){i+=UI.frameX(this.window)-this.window.UI.scrollX(k.target);h+=UI.frameY(this.window)-this.window.UI.scrollY(k.target);this.top=false}this.body.style.cssText="display:block;top:"+h+"px;left:"+i+"px;";h=UI.windowHeight();i=UI.height(this.body);var r=UI.height(k.target),t=UI.windowWidth(),w=UI.width(this.body);
k=UI.width(k.target);if(UI.getY(this.body)+i>h+UI.scrollY())this.body.style.marginTop="-"+(i+r+1)+"px";if(UI.getX(this.body)+w>t+UI.scrollX())this.body.style.marginLeft="-"+(w-k)+"px";k=UI.getX(this.body);h=UI.getY(this.body);if(h<0)this.body.style.marginTop=parseInt(this.body.style.marginTop)-h+"px";if(k<0)this.body.style.marginLeft=parseInt(this.body.style.marginLeft)-k+"px";if(this.iframe)this.iframe.style.cssText="width:"+UI.width(this.body)+"px;height:"+i+"px;";this.display=true},hide:function(){if(this.display){this.display=
false;UI.hide(this.body);UI.ER(document.documentElement,"click",f)}},selectMonthY:function(i,h){i=UI.E(i);i.stop();if(h=="prev"||h=="next"){h=h=="prev"?-10:10;i=UI.GC(this.wrap,".yearCont")[0];i=UI.GT(i,"li");for(var k=0;k<10;k++)i[k].innerHTML=Number(i[k].innerHTML)+h}else{i=i.target;if(this.closeSelectTarget){this.closeSelect();return false}UI.addClass(i.parentNode,"on");this.closeSelectTarget=i.nextSibling;if(!h)i.value=i.getAttribute("rel");i.select()}},closeSelect:function(){var i=this.closeSelectTarget;
if(i){var h=i.parentNode;UI.removeClass(h,"on");i=i.previousSibling.value;if(UI.trim(h.className)=="monthInput"){if(i>12)i=12;if(i<0)i=0;this.fill(this.yInput().value,i)}else this.fill(i,this.MInput().getAttribute("rel"))}this.closeSelectTarget=null},daySelected:function(i,h,k,n){if(arguments.length==1){var e=i.split(",");i=e[0];h=e[1];k=e[2];n=e[3]}this.selectedDate.setFullYear(i);this.selectedDate.setMonth(h-1);this.selectedDate.setDate(k);if(n==-1)n=(i%4==0&&i%100!=0||i%400==0)&&(new Date(i,0,
1)).getDay()==0?54:53;if(n==0){e=(new Date(i,0,1)).getDay();if(e==0)e=7;n=Math.ceil((k-(e!=1?7-e+1:0))/7)+(e!=1?1:0)}this.selectedWeek=n;this.fillTarget()},weekSelected:function(i){i=UI.E(i);i=i.target;var h=i.nextSibling,k=i.parentNode.lastChild;h=h.getAttribute("rel").split(",");k=k.getAttribute("rel").split(",");this.selectedWeek=i.innerHTML;this.target.value=this.formatWeek(UI.formatDate(n(this.selectedDate,h),this.format))+" - "+this.formatWeek(UI.formatDate(n(this.selectedDate,k),this.format));
this.hide();function n(e,j){e=UI.cloneDate(e);e.setYear(j[0]);e.setMonth(j[1]-1);e.setDate(j[2]);return e}},formatWeek:function(i){if(!this.format.hasString("W"))return i;var h="W",k;if(this.format.hasString("WW")){h="WW";k=UI.addZero(this.selectedWeek)}return i.replace(h,k)},confirm:function(i){if(i=="today"){this.selectedDate=new Date;this.fillTarget()}else this.daySelected(this.yInput().value,this.MInput().getAttribute("rel"),this.currentDate.getDate())},setTime:function(i,h){if(h=="auto")this.delay=
setTimeout(a+'.delay = setInterval("'+a+".setTime('"+i+"')\",50);",100);else if(h=="no"){clearTimeout(this.delay);clearInterval(this.delay)}else{this.closeSelectTarget=null;if(this.currentTimeSet.getAttribute("disabled"))this.currentTimeSet=this.hInput;var k=this.currentTimeSet.value;h=this.currentTimeSet.className;var n;if(h=="mInput"||h=="sInput")n=59;if(h=="hInput")n=23;i=i=="up"?Number(k)+1:Number(k)-1;if(i<0)i=n;if(i>n)i=0;switch(h){case "hInput":this.selectedDate.setHours(i);break;case "mInput":this.selectedDate.setMinutes(i);
break;case "sInput":this.selectedDate.setSeconds(i);break}this.format.hasString("d")||this.fill(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+1);this.currentTimeSet.value=UI.addZero(i);this.currentTimeSet.select()}},fill:function(i,h){UI.show(this.body);var k=new Date,n=[];if(!this.currentDate){this.currentDate=k;this.selectedDate=UI.cloneDate(this.currentDate)}if(!this.selectedDate)this.selectedDate=UI.cloneDate(this.currentDate);var e=i?Number(i):this.currentDate.getFullYear();i=
h?Number(h):this.currentDate.getMonth()+1;this.selectedDate.setFullYear(e);this.selectedDate.setMonth(i-1);this.tmpDate=UI.cloneDate(this.selectedDate);h=[0,31,28,31,30,31,30,31,31,30,31,30,31];if(e%4==0&&e%100!=0||e%400==0)h[2]=29;var j=new Date(e,i-1,1);k=e;var q=i,r=1;j=j.getDay();var t=0;t=j>=this.weekStartDay?j-this.weekStartDay:7-this.weekStartDay+j;if(t>0){q--;if(q<1){q=12;k--}r=h[q]-t+1}t=i+1;j=e;if(t>12){t=1;j++}var w=i-1;j=e;if(w<1){w=12;j--}var v=a+".closeSelectTarget = null;",y=[],x=[];
UI.each(this.date.month[this.lang],function(G,B){var E=B;if(B>5)E=(B-6)*2+1;if(B<6)if(B!=0)E=B*2;y[E]='<li onmouseover="this.className=\'on\'" onmouseout="this.className=\'\'" onclick="'+v+a+".fill("+e+","+(B+1)+');">'+G+"</li>"});for(j=0;j<10;j++){var u=j;if(j>4)u=(j-5)*2+1;if(j<5)if(j!=0)u=j*2;x[9-u]='<li onmouseover="this.className=\'on\'" onmouseout="this.className=\'\'" onclick="'+v+a+".fill(this.innerHTML,"+i+');">'+(e-j+4)+"</li>"}x[10]='<li class="yearContTolls"><a'+b+' onclick="'+a+".selectMonthY(event,'prev');\""+
c+">\u2190</a><a"+b+">\u00d7</a><a"+b+' onclick="'+a+".selectMonthY(event,'next');\""+c+">\u2192</a></li>";n.push('<div class="title"><a'+b+c+' class="prev_year" onclick="'+v+a+".fill("+(e-1)+","+i+');"></a><a'+b+c+' class="prev" onclick="'+v+a+".fill("+(w==12?e-1:e)+","+w+');"></a><span class="monthInput"><input onclick="'+a+'.selectMonthY(event);" maxlength="2" type="text" rel="'+i+'" value="'+this.date.month[this.lang][i-1]+'" /><ul class="monthCont">'+y.join("")+'</ul></span><span class="yearInput"><input onclick="'+
a+'.selectMonthY(event,\'year\');" maxlength="4" type="text" value="'+e+'" /><ul class="yearCont">'+x.join("")+"</ul></span><a"+b+c+' class="next" onclick="'+v+""+a+".fill("+(t==1?e+1:e)+","+t+');"></a><a'+b+c+' class="next_year" onclick="'+v+""+a+".fill("+(e+1)+","+i+');"></a></div>');n.push('<div class="data"><table>');n.push('<tr class="weekHeader">');u=this.selectedDate.getMonth()+1;w=this.selectedDate.getFullYear();for(j=t=1;j<u;j++)t+=h[j];j=(new Date(w,0,1)).getDay();if(j==0)j=7;j=Math.ceil((t-
(j!=1?7-j+1:0))/7)+(j!=1?1:0);this.showWeek&&n.push('<td class="week">'+this.date.week[this.lang][7]+"</td>");for(t=0;t<7;t++)n.push("<td><span>"+this.date.week[this.lang][(this.weekStartDay+t)%7]+"</td>");n.push("</tr>");t=1;for(var z;t<7;t++){n.push("<tr>");if(this.showWeek)n.push('<td class="week '+(this.selectWeek?"":" off")+'" onclick="'+(this.selectWeek?a+".weekSelected(event,'"+j+"')":"")+'">'+j+"</td>");if(this.format.hasString("d"))for(u=1;u<8;u++){x=false;w="";w=q==this.currentDate.getMonth()+
1&&r==this.currentDate.getDate()&&k==this.currentDate.getFullYear()?"currentDate":q==i?"currentMonthDate":"otherMonthDate";if(x||this.disabledWeekDays[u-1]||this.disabledDays[r-1]||this.disabledWeeks[t]||(u==1?this.disabledWeekDays[7]:false)){n.push('<td class="'+w+' disabled" rel="'+k+","+q+","+r+'">'+r+"</td>");z&&z!=7&&z--}else{var A=r;x=q;var C=k;if(this.currentWeek){if(w=="currentDate")z=7;if(z){w+=" currentDate";z--}}if(this.displayType=="week-end"){A=new Date(C,x-1,A,0,0,0,0);A.setDate(A.getDate()+
(7-u));C=A.getYear();if(C<1000)C+=1900;x=A.getMonth()+1;A=A.getDate()}var F=j;if(t<2&&x==12&&A>9)F=-1;else if(t>4&&x==1&&A<15)F=0;var D=Math.abs(this.weekStartDay-7)+1,H=D>1?D-1:D+6;n.push('<td class="'+w+(u==D||u==H?" week_end":"")+'" onmouseover="UI.addClass(this,\'hover\');" onmouseout="UI.removeClass(this,\'hover\');" onclick="'+a+".daySelected(this.getAttribute('rel'));\" rel=\""+C+","+x+","+A+","+F+'">'+r+"</td>")}r++;if(r>h[q]){r=1;q++}if(q>12){q=1;k++}}else n.push("<td>N</td>");n.push("</tr>");
j++}n.push("</table></div>");z=["y","M","d","h","m","s"];for(j=0;j<6;j++){i=s=z[j];if(z[j]=="m")s="mi";this.format.hasString(i)?UI.removeClass(this.body,"notHas_"+s):UI.addClass(this.body,"notHas_"+s)}if(this.body.className.hasString(["notHas_h","notHas_mi","notHas_s"])){UI.addClass(this.time,"btn");UI.hide(this.time)}else{this.hInput.value=UI.addZero(this.selectedDate.getHours());this.mInput.value=UI.addZero(this.selectedDate.getMinutes());this.sInput.value=UI.addZero(this.selectedDate.getSeconds());
for(j=3;j<6;j++){i=z[j];this.format.hasString(i)?this[i+"Input"].removeAttribute("disabled"):this[i+"Input"].setAttribute("disabled","disabled")}this.timeTip.innerHTML=this.date.time[this.lang];UI.removeClass(this.time,"btn");UI.show(this.time)}this.wrap.innerHTML=n.join("");if(UI.hasClass(this.body,"notHas_d")){n=[];n.push('<li class="title">'+this.date.quick[this.lang]+"</li>");for(j=0;j<5;j++){z=this.tmpDate;if(this.format.hasString("s")){u=(j+1)*10;z.setSeconds(u);i="setSeconds("+u+")"}else if(this.format.hasString("m")){u=
(j+1)*10;z.setMinutes(u);i="setMinutes("+u+")"}else if(this.format.hasString("h")){u=j*5;z.setHours(u);i="setHours("+u+")"}else{if(this.format.hasString("M")){u=this.selectedDate.getMonth()+j;if(u>12)u-=12;z.setMonth(u);i="setMonth("+u+")"}else{u=this.selectedDate.getFullYear()+j;z.setFullYear(u);i="setFullYear("+u+")"}UI.show(this.time)}n.push('<li onmouseover="this.className=\'on\'" onmouseout="this.className=\'\'" onclick="'+a+".selectedDate."+i+";"+a+'.fillTarget();">'+UI.formatDate(z,this.format)+
"</li>")}this.list.innerHTML=n.join("");UI.show(this.list)}else UI.hide(this.list)},fillTarget:function(){var i=this.formatWeek(UI.formatDate(this.selectedDate,this.format));if(UI.isArray(this.target)){i=i.replace(/\D/g,",").split(",");UI.each(this.target,function(h,k){if("INPUT,TEXTAREA".hasString(h.nodeName))h.value=i[k];else h.innerHTML=i[k]})}else if("INPUT,TEXTAREA".hasString(this.target.nodeName))this.target.value=i;else this.target.innerHTML=i;this.hide()},onOpen:function(i,h,k,n,e){e.target=
h;e.format=k.replace(/m/g,"M");e.lang=n;this.show(i,e)},onWndClick:function(){}};function m(i){return UI.GC(g,"."+i)[0]}function f(){UI.DatePicker.hide()}function l(){top.UI.DatePicker.hide()}function p(i){UI.E(i).stop()}})();UI.Dialog=function(a){m.call(this,a);this._body=UI.DC("div");this._body.className="dialog2";this._body.innerHTML=(UI.Browser.ie6?'<iframe src="javascript:false;" class="cover_select"></iframe>':"")+'<div class="bg"></div><div style="margin:-'+a.height/2+"px 0 0 -"+a.width/2+"px;width:"+a.width+"px;height:"+a.height+'px;" class="wrap"><div class="title">'+a.title+'</div><a class="close '+(a.close!=false?"":"hide")+'" href="javascript:void '+a.name+'.hide();" onfocus="this.blur();" title="Close" tabindex="-1"></a><div class="cont"><div class="loading"><span>loading...</span></div><iframe allowtransparency="true" src="'+
a.url+'" style="height:'+a.height+'px;display:none;" scrolling="auto" frameborder="no" onload="var Self = '+a.name+" || top."+a.name+";if (UI.A(this,'src') != 'undefined') { this.style.display='block';this.previousSibling.style.display='none';UI.EA("+a.name+'._iframe.contentWindow.document,\'keyup\',Self.key); }" class="iframe"></iframe><div class="data"></div></div><b class="cor_1"></b><b class="cor_2"></b><b class="cor_3"></b><b class="cor_4"></b><div class="resize"></div></div><div class="border"></div>';
this._bg=UI.GC(this._body,"div.bg")[0];this._wrap=UI.GC(this._body,"div.wrap")[0];this._title=UI.GC(this._body,"div.title")[0];this._close=UI.GC(this._body,"a.close")[0];this._cont=UI.GC(this._body,"div.cont")[0];this._iframe=UI.GC(this._body,"iframe.iframe")[0];this._data=UI.GC(this._body,"div.data")[0];this._resize=UI.GC(this._body,"div.resize")[0];this._border=UI.GC(this._body,"div.border")[0];this._loading=UI.GC(this._body,"div.loading")[0];this.checkStaus=function(f){if(!this._titleHeight){this._titleHeight=
this._title.offsetHeight;if(UI.Browser.ie&&document.compatMode=="CSS1Compat"){var l=parseInt(UI.C(this._title,"paddingTop"))+parseInt(UI.C(this._title,"paddingBottom"));this._titleHeight-=l;this._title.style.height=this._titleHeight-l+"px"}}try{this._cont.style.height=this._iframe.style.height=f.height-this._titleHeight+"px"}catch(p){}if(f.move==false){this.__move=false;this._title.style.cursor="default"}else if(this.__move==undefined||f.move){this.__move=true;this._title.style.cursor=""}if(f.resize==
false){this.__resize=false;this._resize.style.display="none"}else if(this.__resize==undefined||f.resize){this.__resize=true;this._resize.style.display=""}f.html&&UI.hide(this._loading)};this.__name=a.name;this._cache=[];this._append=false;this.autoHeightMax=420;this.__close=a.close==undefined?true:a.close;var b=this;a.url&&UI.EA(window,"load",function(){document.body.appendChild(b._body);b._append=true;b.__display=true;b.checkStaus.call(b,a);b._cache.push(a)});var c=this._wrap,g=this._border,o=a.name;
this.key=function(f){switch(UI.E(f).key){case 27:window[o].__display&&window[o].hide();break}};this.resizeBg=function(){if(b.__display){if(UI.Browser.ie)b._bg.style.cssText+=";width:100%;";b._body.style.height=UI.windowHeight();b.delay=setTimeout(function(){var f=UI.pageHeight(),l=UI.windowHeight();b._bg.style.cssText+=";width:"+UI.pageWidth()+"px;height:"+(f<l?l:f)+"px;"},0)}};UI.EA(document,"keyup",this.key);UI.EA(window,"resize",this.resizeBg);this._title.onmousedown=function(f){if(window[o].__move){f=
window.event||f;var l=f.clientX-parseInt(c.style.marginLeft),p=f.clientY-parseInt(c.style.marginTop),i=UI.windowWidth(),h=UI.windowHeight();f.preventDefault&&f.preventDefault();UI.addClass(c,"move");document.onmousemove=function(k){var n=window.event||k;k=UI.E(k);if(!UI.Browser.ie&&(k.x<0||k.y<0||k.x>i||k.y>h))return false;c.style.marginTop=n.clientY-p+"px";c.style.marginLeft=n.clientX-l+"px";return false};document.onmouseup=function(){this.onmousemove=null;document.onmouseup=null;UI.removeClass(c,
"move")};return false}};this._title.ondblclick=function(){var f=window[o]._cache[window[o]._cache.length-1];window[o].reset(f)};this._resize.onmousedown=function(f){if(window[o].__resize){var l=parseInt(UI.C(c,"width")),p=parseInt(UI.C(c,"height")),i=parseInt(UI.getY(c)),h=parseInt(UI.getX(c));if(!UI.Browser.ie||document.compatMode=="CSS1Compat"){l-=2;p-=2}g.style.cssText="top:"+i+"px;left:"+h+"px;width:"+l+"px;height:"+p+"px;display:block;";window[o]._body.style.cursor="se-resize";f=window.event||
f;var k=f.clientX,n=f.clientY;f.preventDefault&&f.preventDefault();UI.addClass(c,"move");document.onmousemove=function(e){e=window.event||e;var j=e.clientY-n,q=e.clientX-k;e=(150-l)/2;var r=(100-p)/2;if(j<r)j=r;if(q<e)q=e;var t="height:"+(j*2+p)+"px;width:"+(q*2+l)+"px;top:"+(i-j)+"px;left:"+(h-q)+"px;display:block;";if(UI.Browser.ie6&&document.compatMode=="BackCompat")setTimeout(function(){g.style.cssText=t},10);else g.style.cssText=t;return false};document.onmouseup=function(){window[o]._wrap.style.cssText=
"margin:0;left:"+g.style.left+";top:"+g.style.top+";width:"+g.offsetWidth+"px;height:"+g.offsetHeight+"px;";window[o].checkStaus({height:g.offsetHeight});setTimeout(function(){g.style.display="none"},15);window[o]._body.style.cursor="";this.onmousemove=null;document.onmouseup=null;UI.removeClass(c,"move")};return false}};this._cont.onclick=function(){if(b.autoHeight){clearTimeout(b.delay);b.delay=setTimeout(function(){if(!b.__display)return false;b.height()},100)}};this.hide=function(){var f=UI.Dialog.cache;
if(!this.__close||f[f.length-1]!=this.__name&&f.length>0)return false;var l=this._cache.length;if(l>1){this.reset(this._cache[l-2]);this._cache[l-1].call&&eval(this._cache[l-1].call)}else if(l==0){UI.hide(this._body);return this.__display=false}else{UI.hide(this._body);if((l=this._cache[0].html)&&!UI.isString(l)){document.body.appendChild(l);UI.hide(l)}this._cache[0].call&&eval(this._cache[0].call);this.__display=false}this.__title=this._cache[0].title;this._cache.pop();if(this._cache.length<1&&f[f.length-
1]==this.__name){f.pop();f.length>0&&UI.show(window[f[f.length-1]]._bg)}this.title()};this.show=function(f){if(!this._append){document.body.appendChild(this._body);this._append=true}if(!this.__display){UI.show(this._body);this.__display=true}if(f){this.autoHeight=f.autoHeight||false;if(f.autoHeightMax)this.autoHeightMax=f.autoHeightMax;if(f.url||f.html){this._cache.push(f);var l=UI.Dialog.cache;if(l[l.length-1]!=this.__name){l.push(this.__name);for(var p=0,i=l.length-1;p<i;p++)UI.hide(window[l[p]]._bg)}this._cont.style.overflow=
f.url?"hidden":"auto"}else if(f.title)this._cache[this._cache.length-1].title=f.title;this.reset(f)}else this.reset({})};this.reset=function(f){f.title&&this.title();f.size&&m.call(this,f);var l=!!(f.html&&!UI.isString(f.html)&&!f.height);this._wrap.style.top="50%";this._wrap.style.left="50%";this._wrap.style.margin=-parseInt(UI.C(this._wrap,"height"))/2+UI.scrollY()+"px 0 0 "+(-parseInt(UI.C(this._wrap,"width"))/2+UI.scrollX())+"px";var p=UI.pageHeight(),i=UI.windowHeight();this._bg.style.cssText=
"width:"+UI.pageWidth()+"px;height:"+(p<i?i:p)+"px;";this._body.style.height=UI.windowHeight();if(f.width){if(f.width%2)f.width+=1;this._wrap.style.width=f.width+"px";this._wrap.style.marginLeft=-f.width/2+UI.scrollX()+"px"}if(f.height){if(f.height%2)f.height+=1;this._wrap.style.height=f.height+"px";this._wrap.style.marginTop=-f.height/2+UI.scrollY()+"px"}if(f.close)this._close.className="close"+(f.close!=false?"":"hide");if(f.url){UI.hide(this._iframe);UI.show(this._loading);this._iframe.setAttribute("src",
f.url)}else if(f.html){UI.hide(this._iframe);if(UI.isString(f.html)){UI.hide(this._loading);this._data.innerHTML=f.html}else{this._data.appendChild(f.html);UI.show(f.html)}}this.checkStaus.call(this,f);l&&this.height()};this.title=function(){for(var f=[],l=0;l<this._cache.length;l++)this._cache[l].title&&f.push(this._cache[l].title);f.length==0&&f.push(this.__title);this._title.innerHTML="<span>"+f.join('<b class="dot"></b>')+"</span>"};this.height=function(){var f=UI.height(this._data)+this._titleHeight;
this.show({autoHeight:this.autoHeight,height:f>this.autoHeightMax?this.autoHeightMax:f})};function m(f){switch(f.size){case "small":if(!f.width)f.width=380;if(!f.height)f.height=220;break;case "medium":if(!f.width)f.width=530;if(!f.height)f.height=420;break;case "big":if(!f.width)f.width=760;if(!f.height)f.height=540;break}}};UI.Dialog.cache=[];UI.Dialog.location=null;UI.DragDrop=function(){};UI.DropMenu=function(a){a.open=false;if(UI.isString(a.id))a.id=UI.G(a.id);if(a.max==undefined)a.max=10;if(a.type==undefined)a.type=["click","click"];else if(a.type.length==1)a.type=[a.type,a.type];if(a.menu!=undefined){if(UI.isString(a.menu))a.menu=UI.G(a.menu);if(!a.id||!a.menu)return false;if(a.multi){a.parent=a.id.parentNode;var b=UI.GT(a.menu,"li");if(b.length>a.max){b=UI.C(b[0],"height");b=b=="auto"?20:b.slice(0,-2);a.menu.style.height=a.max*b+"px";a.menu.style.overflow="auto"}}UI.EA(document,
a.type[1],function(c){if(a.open)if(UI.E(c).target!=a.id){UI.hide(a.menu);a.multi&&UI.removeClass(a.parent,"on");a.open=false}});UI.EA(a.id,a.type[0],function(c){if(a.type=="mouseover"){UI.E(c).stop();UI.show(a.menu)}else UI.toggle(a.menu);a.multi&&UI.toggleClass(a.parent,"on");a.open=a.menu.style.display=="block"?true:false});if(a.hover){UI.EA(a.id,"mouseover",function(){UI.addClass(this,a.hover)});UI.EA(a.id,"mouseout",function(){UI.removeClass(this,a.hover)})}UI.EA(a.menu,a.type[1],function(c){UI.E(c).stop()})}};UI.Flash=function(a,b,c,g){a.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+c+'" height="'+g+'" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0"><param name="allowScriptAccess" value="always" /><param name="movie" value="'+b+'" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><embed src="'+b+'" width="'+c+'" height="'+g+'" quality="high" wmode="transparent" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" allowScriptAccess="always" type="application/x-shockwave-flash"/></object>'};UI.gotop=function(a){this.Gotop.build(a)};
UI.Gotop={title:"\u8fd4\u56de\u9876\u90e8",className:"gotop",text:"Top",body:UI.DC("a"),_delay:null,build:function(a){this.body.className=this.className;this.body.title=this.title;this.body.innerHTML=this.text;this.body.href="#"+(a||"");document.body.appendChild(this.body);this.body.onfocus=function(){this.blur()};UI.EA(window,"scroll",function(){clearTimeout(UI.Gotop._delay);UI.Gotop._delay=setTimeout(function(){(window.scrollY||document.documentElement.scrollTop)<52?(UI.Gotop.body.style.display=
"none"):(UI.Gotop.body.style.display="block")},50)})}};UI.Menu=function(a){this.name=a.name;this.id=a.id;this.sub_id=a.sub_id;this.location_id=a.location_id;this.main=UI.G(a.id);this.body=UI.G(a.sub_id);this.wrap=UI.GC(this.body,".sub_menu_wrap")[0];this.bar=UI.GC(this.body,"a.bar")[0];this.target=a.target;this.cache=a.cache==undefined?true:a.cache;this.large=a.large;this.extend=[];this.data=a.data;this.location={data:[],rel:null,build:function(){for(var e=0;e<this.data.length;e++){var j=UI.G(this.id);if(!e)j.innerHTML="";j.innerHTML+=e!=this.data.length-
1?(e?'<b class="dot"></b>':"")+'<a href="'+this.data[e].url+'" target="'+this.target+'" '+(!e&&this.cache?'class="unlink" onclick="this.blur();return false;':'onclick="')+this.name+(this.data[e].fake?".location.show("+e+");":".show('"+this.rel.slice(0,e+1)+"');")+'" title="'+this.data[e].name+'">'+this.data[e].name+"</a>":(e?'<b class="dot"></b>':"")+this.data[e].name}},rebuild:function(e){this.rel=e=eval("["+e+"]");this.data=[];for(var j=0;j<e.length;j++){j||this.data.push({name:this.tmp[e[j]].name,
url:this.tmp[e[j]].url});try{if(j==1)this.data.push({name:this.tmp[e[j-1]].data[e[j]].name,url:this.tmp[e[j-1]].data[e[j]].url?this.tmp[e[j-1]].data[e[j]].url:this.tmp[e[j-1]].data[e[j]].data[0][1]});j==2&&this.data.push({name:this.tmp[e[j-2]].data[e[j-1]].data[e[j]][0],url:this.tmp[e[j-2]].data[e[j-1]].data[e[j]][1]})}catch(q){}}this.build()},edit:function(e,j){this.data.pop();this.data.push({name:e,url:j,fake:true});this.build()},add:function(e,j){if(e!=this.data[this.data.length-1].name){this.data.push({name:e,
url:j,fake:true});this.build()}},remove:function(){this.data.pop();this.build()},show:function(e){this.data.splice(e+1,50);this.build()}};this.location.name=this.name;this.location.id=this.location_id;this.location.target=this.target;this.location.cache=this.cache;this.location.tmp=a.data;this.show=function(e,j){var q;e=UI.isArray(e)?this.index(e):e.split(",");if(e.length<=2){e.push(0);e.length==2&&this.location.tmp[e[0]].data.length&&e.push(0)}if(j){q=this.data[e[0]].data[e[1]].url||this.data[e[0]].url;
try{q=this.data[e[0]].data[e[1]].data[e[2]][1]}catch(r){}}this.menu_list[this.cur_list].className="wrap hide";this.menu_list[e[0]].className="wrap show";UI.removeClass(this.main_menu[this.cur_list],"on");UI.addClass(this.main_menu[e[0]],"on");this.cache&&this.main_menu[e[0]].setAttribute("rel",e);this.cur_list=e[0];try{UI.removeClass(UI.GC(this.menu_list[e[0]],".on")[0],"on")}catch(t){}for(j=1;j<e.length;j++){if(j==1&&!this.location.tmp[e[0]].data[e[1]].data.length){UI.addClass(UI.GC(UI.GC(this.body,
".wrap.show")[0],".title")[e[1]],"on");this.main_menu[e[0]].href=this.location.tmp[e[0]].data[e[1]].url}if(j==2&&!this.location.tmp[e[0]].data[e[1]].extend){var w=this.menu_title[e[0]][e[1]],v=w.nextSibling;UI.removeClass(w,"off");UI.removeClass(v,"hide");if(this.location.tmp[e[0]].data[e[1]].data.length){UI.addClass(v.getElementsByTagName("a")[e[2]],"on");if(this.cache)this.main_menu[e[0]].href=this.location.tmp[e[0]].data[e[1]].data[e[2]][1]}else if(this.cache)this.main_menu[e[0]].href=this.location.tmp[e[0]].data[e[1]].url}}this.location.rebuild(e);
if(q)window[this.target].location.href=q};this.go=function(e){this.show(e,true)};this.index=function(e){for(var j=[],q=0;q<e.length;q++){if(q==0)for(var r=0;r<this.data.length;r++)if(e[q]==this.data[r].name){j.push(r);break}if(q==1)for(r=0;r<this.data[j[0]].data.length;r++)if(e[q]==this.data[j[0]].data[r].name){j.push(r);break}if(q==2)for(r=0;r<this.data[j[0]].data[j[1]].data.length;r++)if(e[q]==this.data[j[0]].data[j[1]].data[r][0]){j.push(r);break}}return j};this.refresh=function(e){if(UI.isArray(e)){e=
this.index(e);e.length==1&&tmp.push(0)}else if(e.split(",").length==1)e+=",0";for(var j=0;j<this.extend.length;j++)if(this.extend[j].rel==e){e=eval("["+e+"]");var q=this.menu_title[e[0]][e[1]].nextSibling,r=this.extend[j].call;q.innerHTML='<div class="extend"><span class="content">loading...</span></div>';UI.get(this.extend[j].url,{},function(t){setTimeout(function(){q.innerHTML='<div class="extend">'+t+"</div>";eval(r)},200)})}};var b=this.name;this.tree=function(e,j){var q=UI.isString(e)?UI.G(e):
e;e=UI.GT(q,"a");var r=UI.GC(q,"b.arrow");for(q=0;q<e.length;q++){UI.A(e[q],"target",window[b].target);e[q].onfocus=function(){this.blur()};e[q].onclick=function(){try{UI.removeClass(UI.GC(window[b].menu_list[j],".on")[0],"on")}catch(t){}UI.addClass(this,"on");var w=UI.A(this,"href");if(UI.next(this)&&(w.hasString("void(0)")||w=="#")){UI.toggleClass(this,"unfold");UI.toggleClass(UI.next(this),"hide");if(UI.hasClass(this,"extend")){var v=this,y=UI.next(v);y.innerHTML='<div class="extend"><span class="content">loading...</span></div>';
UI.get(this.getAttribute("rel"),"",function(x){setTimeout(function(){y.innerHTML=x;window[b].tree(y,j)},100);UI.removeClass(v,"extend")})}}}}UI.each(r,function(t,w){r[w].onclick=function(v){var y=this.parentNode.parentNode,x=UI.next(y);UI.toggleClass(y,"unfold");UI.toggleClass(x,"hide");if(UI.hasClass(y,"extend")){x.innerHTML='<div class="extend"><span class="content">loading...</span></div>';UI.get(y.getAttribute("rel"),"",function(u){setTimeout(function(){x.innerHTML=u;window[b].tree(x,j)},100);
UI.removeClass(y,"extend")})}UI.E(v).stop();return false}})};for(var c=[],g=[],o=[],m=0;m<a.data.length;m++){m||(o=0);c.push('<div class="wrap'+(!m?" show":" hide")+'">');for(var f=0;f<a.data[m].data.length;f++){var l=title_large=arrow_empty=title_on=hide=cont_hide="",p="#";if(a.data[m].data[f].close){l=" off";hide=" hide"}if(!a.data[m].data[f].data.length&&!a.data[m].data[f].extend){cont_hide=' style="display:none"';arrow_empty=" empty";if(this.large)title_large=" large";f||(title_on=" on")}a.data[m].data[f].extend||
(p=a.data[m].data[f].url?a.data[m].data[f].url:a.data[m].data[f].data[0][1]);c.push('<div class="title'+title_large+l+title_on+' " onmouseover="UI.addClass(this,\'hover\')" onmouseout="UI.removeClass(this,\'hover\')"><a href="javascript:void(0)" onfocus="this.blur()" class="arrow'+arrow_empty+"\" onclick=\"UI.toggleClass(this.parentNode,'off');UI.toggleClass(this.parentNode.nextSibling,'hide')\"></a><a href=\""+p+'" target="'+this.target+'" onfocus="this.blur()" onclick="'+(a.data[m].data[f].extend?
this.name+".refresh(this.getAttribute('rel'));UI.removeClass(this.parentNode,'off');UI.removeClass(this.parentNode.nextSibling,'hide');return false;":"")+this.name+".show(this.getAttribute('rel'));UI.removeClass(this.parentNode,'hover');\" rel=\""+m+","+f+(a.data[m].data[f].data.length?",0":"")+'" title="'+a.data[m].data[f].name+'"><span>'+(a.data[m].data[f].ico?'<b class="ico '+a.data[m].data[f].ico+'"></b>':"")+"<em>"+a.data[m].data[f].name+'</em></span></a></div><div class="content'+hide+'"'+cont_hide+
"><span>");if(a.data[m].data[f].extend)this.extend.push({rel:m+","+f,url:a.data[m].data[f].extend.url,call:a.data[m].data[f].extend.call});else for(l=0;l<a.data[m].data[f].data.length;l++)c.push('<a href="'+a.data[m].data[f].data[l][1]+'" target="'+this.target+'" onfocus="this.blur()" onclick="'+this.name+".show(this.getAttribute('rel'));\""+(!title_on&&!f&&!l?' class="on"':"")+' rel="'+m+","+f+","+l+'" title="'+a.data[m].data[f].data[l][0]+'"><span><b class="icon dot"></b>'+a.data[m].data[f].data[l][0]+
"</span></a>");c.push("</span></div>");if(!m&&!f)o="0,0"+(a.data[0].data[0].data.length?",0":"")}c.push("</div>");g.push('<a href="'+a.data[m].url+'" target="'+this.target+'" class="'+(m==0?"first on":"")+(m==a.data.length-1?"last":"")+'" title="'+a.data[m].name+'" onfocus="this.blur()" onclick="'+this.name+".show(this.getAttribute('rel'));"+(a.data[m].call?a.data[m].call:"")+'" rel="'+m+",0"+(a.data[m].data[0].data.length?",0":"")+'" title="'+a.data[m].name+'"><span>'+a.data[m].name+"</span></a>")}this.wrap.innerHTML=
c.join("");this.main.innerHTML=g.join("");a.data.length==1?UI.addClass(this.main,"hide"):UI.addClass(document.body,"HasMainMenu");this.main_menu=UI.GT(this.main,"a");this.menu_list=UI.GC(this.body,".wrap");this.menu_title=[];for(m=0;m<this.menu_list.length;m++)this.menu_title.push(UI.GC(this.menu_list[m],".title"));this.cur_list=0;if(this.extend.length)for(m=0;m<this.extend.length;m++)this.refresh(this.extend[m].rel);this.bar.onclick=function(){UI.toggleClass(this.parentNode,"close");UI.removeClass(this.parentNode,
"open")};this.bar.onfocus=function(){this.blur()};var i=this.name,h;this.body.onmouseover=function(){clearTimeout(h);h=setTimeout(function(){UI.hasClass(window[i].body,"close")&&UI.addClass(window[i].body,"open")},250)};this.body.onmouseout=function(){clearTimeout(h);h=setTimeout(function(){UI.hasClass(window[i].body,"close")&&UI.removeClass(window[i].body,"open")},250)};if(UI.Browser.ie6){this.bg_iframe=UI.html('<iframe src="javascript:false;" class="bg"></iframe>')[0];this.bg_div=UI.html('<div class="bg"></div>')[0];
this.wrap.appendChild(this.bg_iframe);this.wrap.appendChild(this.bg_div)}document.documentElement.style.overflow="hidden";var k=UI.GC("td.header")[0].scrollHeight+UI.GC("a.bar")[0].scrollHeight,n=UI.GC("td.footer");if(n)k+=n[0].scrollHeight;this.autoHeight=function(){this.wrap.style.height=(UI.Browser.ie?document.documentElement.scrollHeight-k-4:window.innerHeight-k)+"px"};this.autoHeight();(function(e){UI.EA(window,"resize",function(){window[e].autoHeight()})})(this.name);this.show(o);window[this.target].document.location.href=
a.data[0].url};(function(){var a=document.createElement("div"),b;a.style.display="none";a.className="popup_menu";UI.PopupMenu=function(c,g){var o=this;if(!b){try{document.body.appendChild(a)}catch(m){UI.EA(window,"load",function(){document.body.appendChild(a)})}b=1}this.body=document.createElement("div");UI.EA(this.body,"click",function(p){UI.E(p).stop()});this.body.oncontextmenu=function(p){UI.E(p).stop()};this.target=c;if(g){this.leftClick=true;UI.EA(this.target,"click",l)}else{this.target.oncontextmenu=l;document.documentElement.oncontextmenu=
f}UI.EA(document.documentElement,"click",f);function f(){o.hide()}function l(p){o.show(p);return false}};UI.PopupMenu.prototype={body:null,target:null,actions:null,actionsCache:null,actionsSet:null,popupTmp:false,leftClick:false,display:false,setActions:function(c){this.actionsSet=c},popup:function(c){UI.hide(a);if(!c)c=this.actionsSet;if(!c||!c.length)return false;if(!this.actionsCache)this.actionsCache=this.actions;this.actions=c;this.build();this.popupTmp=true},build:function(c){var g=this,o=[],
m=[],f=[],l='<iframe class="cover" src="javascript:false;"></iframe>';if(c)this.actions=c;i(this.actions);this.body.innerHTML=o.join("");UI.Browser.ie6&&UI.each(f,function(h){g.body.appendChild(h)});this.cover=f[0];c=this.body.getElementsByTagName("li");var p;UI.each(c,function(h){if(h.getAttribute("rel")=="son"){h.son=true;UI.addClass(h,"son")}if(UI.hasClass(h,"Input"))h.input=true;h.onclick=function(k){this.getAttribute("call")!=null&&m[this.getAttribute("call")].call(this);if(this.input){UI.E(k).stop();
var n=this.lastChild.previousSibling;k=this.firstChild;n.setAttribute("rel",n.getAttribute("rel")?"":"checked");var e=n.getAttribute("rel");if(n.className.match(/radio/g)){UI.each(this.parentNode.getElementsByTagName("b"),function(j){if(j.getAttribute("name")==n.getAttribute("name")){j.className="radio";j.setAttribute("rel","")}});n.setAttribute("rel","checked");n.className=n.className.split("_")[0]+"_checked";if(this.son){k.style.display="block";if(UI.Browser.ie6)f[k.getAttribute("iframe")].style.display=
"block"}}else{n.className=n.className.split("_")[0]+(e?"_"+e:"");k.style.display=this.son&&e=="checked"?"block":"none";if(UI.Browser.ie6)f[k.getAttribute("iframe")].style.display=k.style.display}return false}this.son?UI.E(k).stop():g.hide()};h.onmouseover=function(k){UI.addClass(this,"hover");if(this.son){if(this.input&&this.lastChild.previousSibling.getAttribute("rel")!="checked")return false;var n=this.firstChild;n.style.display="block";if(UI.E(k).target==this){if(!p)p=n.offsetWidth;n.style.left=
"";if(p+UI.getX(n)>UI.windowWidth()||n.parentNode.parentNode.style.left!="")n.style.left=-p+"px"}if(UI.Browser.ie6)f[n.getAttribute("iframe")].style.cssText="display:block;top:"+(UI.getY(n)-UI.getY(g.body))+"px;left:"+(UI.getX(n)-UI.getX(g.body))+"px;width:"+n.offsetWidth+"px;height:"+n.offsetHeight+"px;"}};h.onmouseout=function(){UI.removeClass(this,"hover");if(this.son){var k=this.firstChild;k.style.display="";if(UI.Browser.ie6)f[k.getAttribute("iframe")].style.cssText=""}}});function i(h){var k,
n,e;o.push('<ul iframe="'+f.length+'">');UI.Browser.ie6&&f.push(UI.html(l)[0]);for(var j=0,q=h.length;j<q;j++){k=h[j].extend&&h[j].extend.match(/\binput\b/gi)?"Input":"";if(h[j].name){o.push("<li"+(h[j].data?' rel="son"':"")+(h[j].call?' call="'+m.length+'"':"")+' class="'+k+'">');h[j].call&&m.push(h[j].call);if(h[j].data){n=h[j].data;i(n)}if(h[j].extend){o.push(h[j].extend);n=h[j].extend.match(/\bchecked\b/gi)?"checked":"";e=h[j].extend.replace(/'/g,'"').match(/\bname="(\w*)"/gi);if(k)o.push("<b "+
(e?e:"")+' rel="'+n+'" class="'+(h[j].extend.match(/\bradio\b/gi)?"radio":"checkbox")+(n?"_"+n:"")+'"></b>')}o.push("<span>"+h[j].name+"</span></li>")}else o.push('<li class="line"></li>')}o.push("</ul>")}},show:function(c){c=UI.E(c);c.stop();if(!this.popupTmp&&(!this.actions||!this.actions.length)){this.hide();return false}if((!this.popupTmp||this.body.innerHTML=="")&&this.actionsCache)this.build();a.innerHTML!=""&&a.removeChild(a.firstChild);a.appendChild(this.body);a.style.display="block";this.display=
true;var g=UI.windowWidth(),o=this.body.offsetWidth,m=UI.windowHeight(),f=this.body.offsetHeight,l=UI.scrollX(),p=UI.scrollY(),i=c.x,h=c.y;a.style.top=h+p+"px";a.style.left=i+l+"px";a.style.margin="";if(o+c.x>g)a.style.marginLeft=-o+"px";if(f+c.y>m)a.style.marginTop=-f+"px";if(this.cover)this.cover.style.cssText="display:block;width:"+(o+2)+"px;height:"+(f+2)+"px;";if(this.popupTmp){this.actions=this.actionsCache;this.actionsCache=null}return this.popupTmp=false},hide:function(){a.style.display="none";
if(this.cover)this.cover.style.cssText="";this.display=false}}})();UI.resize=function(a,b){a=UI.isObject(a)?[a]:UI.GC(a);UI.each(a,function(c){if("TEXTAREA,SELECT,INPUT,BUTTON,IMG".hasString(c.nodeName)){var g="",o="";if(UI.hasClass(c,"tipBox")){UI.removeClass(c,"tipBox");g=" tipBox";o=' title="'+c.title+'"';c.title="";UI.EA(c,"click",function(m){UI.E(m).stop()})}UI.wrap('<span class="resize_box'+g+'"'+o+'><b class="ico"></b><span></span></span>',c)}else{g=UI.html('<b class="ico"></b>')[0];c.appendChild(g)}new UI.Resize(c,b)})};
UI.Resize=function(a,b){var c=a.parentNode.parentNode,g=UI.GC(c,".ico")[0],o,m,f,l,p,i=0,h=0;if(b){if(!b.min)b.min={x:20,y:15};if(!b.max)b.max={x:Infinity,y:Infinity}}else b={min:{x:20,y:15},max:{x:Infinity,y:Infinity}};UI.drag(g,{start:function(k){k=UI.E(k);f=k.x;l=k.y;o=UI.width(a);m=UI.height(a);p=UI.C(g,"cursor");if(!UI.Browser.ie&&document.compatMode=="BackCompat"){k=g.parentNode;h=parseInt(UI.C(k,"paddingLeft"))+parseInt(UI.C(k,"paddingRight"));i=parseInt(UI.C(k,"paddingBottom"))+parseInt(UI.C(k,
"paddingTop"))}},drag:function(k){k=UI.E(k);var n,e;switch(p){case "ne-resize":n=o+k.x-f-h;e=m-k.y+l-i;break;case "se-resize":n=o+k.x-f-h;e=m+k.y-l-i;break;case "nw-resize":n=o-k.x+f-h;e=m-k.y+l-i;break;case "sw-resize":n=o-k.x+f-h;e=m+k.y-l-i;break;case "e-resize":n=o-k.x+f-h;break;case "s-resize":e=m+k.y-l-i;break}if(n<b.min.x)n=b.min.x;if(n>b.max.x)n=b.max.x;if(e<b.min.y)e=b.min.y;if(e>b.max.y)e=b.max.y;try{UI.C(a,"width",n+"px");UI.C(a,"height",e+"px")}catch(j){}}},UI.isUndefined(b.capture)?true:
b.capture)};UI.select=function(a){this.Select.build(a)};
UI.Select=function(a){this._body=UI.G(a.id);this._input=UI.GT(this._body,"input")[0];this._select=UI.GT(this._body,"select")[0];this._ul=UI.DC("ul");this._input.value=this._select.options[this._select.selectedIndex].innerHTML;this.cur=this._select.selectedIndex;for(var b=[],c=0;c<this._select.options.length;c++){var g=this._select.options[c].innerHTML;b[c]="<li"+(g==this._input.value?' class="on"':"")+' onmouseover="UI.addClass(this,\'hover\')" onmouseout="UI.removeClass(this,\'hover\')" onclick="'+a.name+
".select(this.innerHTML,"+c+");UI.addClass(this,'on')\" title=\""+g+'">'+g+"</li>"}this._ul.innerHTML=b.join("");this._body.appendChild(this._ul);this._li=UI.GT(this._ul,"li");if(UI.Browser.ie6){this._cover=UI.DC("div");this._cover.style.cssText="position:absolute;";this._cover.innerHTML='<iframe src="javascript:false;" style="position:absolute;z-index:-1;"></iframe>';this._body.appendChild(this._cover);var o=UI.GT(this._cover,"iframe")[0]}UI.EA(this._body,"click","UI.toggleClass("+a.name+'._body,"on");'+
a.name+".iframe();");UI.EA(document,"click","e=window.event||e;if(UI.ET(e)!="+a.name+"._input) UI.removeClass("+a.name+'._body,"on");');this.select=function(m,f){this._input.value=m;UI.A(this._select.options[this.cur],"selected","");UI.removeClass(this._li[this.cur],"on");UI.A(this._select.options[f],"selected","selected");this._select.value=this._select.options[f].value;this.cur=f};this.iframe=function(){if(UI.Browser.ie6){o.style.width=this._ul.offsetWidth+"px";o.style.height=this._ul.offsetHeight+
"px";this._cover.style.top=UI.C(this._ul,"top");this._cover.style.left=UI.C(this._ul,"left")}}};UI.selectMulti=function(a,b){if(UI.isString(a)){b=a;a=document.documentElement}if(!a)a=document.documentElement;b="."+(b?b:"selectMulti");UI.each(UI.GC(a,b),function(c,g){g="selectMulti_"+(new Date).getTime()+g;c.name=g;window[g]=new UI.SelectMulti(c)})};
UI.SelectMulti=function(a){this.name=a.name;this.body=a;this.cont=UI.GC(a,".cont")[0];this.input=a.firstChild;this.checkbox=UI.GT(UI.GT(this.cont,"ul")[0],"input");this.tools=UI.GC(a,"div.tools")[0];this.value=this.input.value;this.readyonly=UI.A(this.input,"readonly");this.click=this.display=false;var b=this.cont,c=this.input,g=this.name,o=this.checkbox;new UI.resize(this.cont,{min:{x:100,y:30}});UI.EA(UI.GC(this.body,"b.ico")[0],"click",function(l){UI.E(l).stop()});if(UI.Browser.ie6){var m=UI.html('<iframe src="javascript:false;" style="display:none;"></iframe>')[0];
UI.before(m,this.cont);setInterval(function(){m.style.cssText="position:absolute;filter:alpha(opacity=0);z-index:-1;top:"+b.offsetTop+";left:"+b.offsetLeft+";width:"+b.offsetWidth+"px;height:"+b.offsetHeight+"px;"},200)}if(this.checkbox.length>7)this.cont.style.height="161px";if(this.tools){a=UI.GT(this.tools,"input");UI.each(a,function(l){UI.EA(l,"click",function(p){p=UI.E(p).target;UI.hasClass(p,"SelectAll")&&UI.each(o,function(i){i.checked=true});UI.hasClass(p,"SelectReverse")&&UI.each(o,function(i){i.checked=
i.checked?false:true})})})}else this.cont.style.padding="0";UI.EA(document,"click",function(l){l=UI.E(l);l.target!=c&&window[g].hide()});UI.EA(this.input,"click",function(){window[g].display?window[g].hide():window[g].show()});UI.EA(this.cont,"click",function(l){UI.E(l).stop();var p=0,i=0;UI.each(o,function(h,k){if(h.checked){i=k;p++}});l=o[i].parentNode;if(window[g].readyonly)c.value=p==0?"":p==1?l.innerText||l.textContent:UI.A(c,"rel")+" x "+p;else window[g].fillValue();window[g].click=true});var f;
UI.EA(this.cont,"mouseout",function(){f=setTimeout(function(){window[g].click&&window[g].hide()},50)});UI.EA(this.cont,"mouseover",function(){clearTimeout(f)});this.fillValue=function(){for(var l=this.input.value?this.input.value.split(","):[],p=[],i=[],h=0,k=o.length;h<k;h++){var n=o[h].parentNode.innerText||o[h].parentNode.textContent;o[h].checked?p.push(n):i.push(n)}this.input.value=UI.apart(UI.merge(UI.merge(l),p),i).join(",")};this.hide=function(){UI.removeClass(this.body,"on");this.cont.style.display=
"none";UI.removeClass(this.body,"top");this.click=this.display=false};this.show=function(){UI.addClass(this.body,"on");this.cont.style.display="block";var l=UI.height(this.cont),p=UI.height(this.input),i=UI.windowHeight();UI.pageHeight();var h=UI.getY(this.input),k=UI.scrollY(),n=this.tools&&!UI.Browser.ie&&document.compatMode=="BackCompat"?UI.height(this.tools):0;if(l+p+h-k>i){UI.addClass(this.body,"top");UI.height(this.cont)>=h-k&&UI.C(this.cont,"height",h-k-20-n+"px");UI.height(this.cont)>h&&UI.C(this.cont,
"height",h-n+"px")}else l+p+h>i&&UI.C(this.cont,"height",i-p-h+"px");this.display=true}};UI.ShowBar=function(a){this._body=UI.G(a.id);if(!this._body)return false;this._cont=UI.GC(this._body,".cont")[0];this._li=UI.GT(this._cont,"li");this._first=this._li[0];this._next=UI.GC(this._body,".next")[0];this._prev=UI.GC(this._body,".prev")[0];a.speed=a.speed||1500;this.cur=1;this.num=this._li.length;this.animate=a.animate!=undefined?a.animate:true;this.autoplay=a.autoplay!=undefined?a.autoplay:true;this.pause=a.pause;this.connect=a.connect;this.step=Number(UI.C(this._first,a.action=="marginTop"?
"height":"width").slice(0,-2));this.delay=setInterval("if ("+a.name+".autoplay) "+a.name+".next()",a.speed);this.delay2=null;this.page=a.page;this.tmp_cur=0;this.connect&&this._li[0].parentNode.appendChild(this._li[0].cloneNode(true));if(this.page)if(UI.GC(this._body,".page").length>0){this._page=UI.GC(this._body,".page")[0];this._li2=UI.GT(this._page,"li");for(var b=0;b<this.num;b++)UI.EA(this._li2[b],this.page,a.name+".play("+(b+1)+")")}else{this._page=UI.DC("ul");html=[];this._page.className="page";
for(b=0;b<this.num;b++)html[b]="<li "+(!b?'class="on" ':"")+"on"+this.page+'="'+a.name+".play("+(b+1)+')">'+(b+1)+"</li>";this._page.innerHTML=html.join("");this._body.appendChild(this._page);this._li2=UI.GT(this._page,"li")}if(a.action=="opacity"){for(b=0;b<this.num;b++)UI.C(this._li[b],"opacity",0);UI.C(this._li[0],"opacity",1)}this._next.onclick=function(){eval(a.name+".next()")};this._prev.onclick=function(){eval(a.name+".prev()")};this._first.parentNode.onmouseover=function(){eval("if("+a.name+
".pause) clearInterval("+a.name+".delay)")};this._first.parentNode.onmouseout=function(){eval("if("+a.name+".pause) "+a.name+".delay = setInterval('"+a.name+".next()',"+a.speed+")")};this._next.onmouseover=this._prev.onmouseover=this._first.parentNode.onmouseover;this._next.onmouseout=this._prev.onmouseout=this._first.parentNode.onmouseout;this.show=function(){if(this.page){if(this.tmp_cur!=null)this._li2[this.tmp_cur].className="";var c=this.cur>this.num?0:this.cur-1;this._li2[c].className="on";
this.tmp_cur=c}if(this.animate){clearInterval(this.delay2);if(a.action=="opacity"){this.delay2=UI.animate(this._li[this.cur-1],a.action,1,"clearInterval("+a.name+".delay2);");this.tmp_cur=this.cur>this.num?0:this.cur-1}else this.delay2=UI.animate(this._first,a.action,-this.step*(this.cur-1),"clearInterval("+a.name+".delay2);")}else if(a.action!="opacity")this._first.style[a.action]=-this.step*(this.cur-1)+"px"};this.next=function(){this.cur++;if(this.connect){if(this.cur>this.num+1){this._first.style.marginTop=
"";this.cur=2}}else if(this.cur>this.num)this.cur=1;this.show()};this.prev=function(){this.cur--;if(this.cur<1)this.cur=this.num;this.show()};this.play=function(c){this.cur=c;this.show()}};UI.SortTable=function(){};UI.tip=function(){this.Tip.build()};
UI.Tip={wrap:UI.DC("div"),build:function(){this.wrap.className="cmn_tip";this.wrap.innerHTML='<iframe src="javascript:false;" style="display:none;position:absolute;z-index:-1;"></iframe><div class="cont"></div>';this.cover=UI.GT(this.wrap,"iframe")[0];this.cont=UI.GT(this.wrap,"div")[0];this.wrap.appendChild(this.cont);document.body.appendChild(this.wrap);UI.EA(document,"mouseover",function(a){a=window.event||a;var b=UI.ET(a);if(b.title){var c=UI.Tip.wrap.style,g=document.documentElement,o=document.body,
m,f,l;m=g.clientWidth;f=g.clientHeight;l=g.scrollTop||o.scrollTop;g=g.scrollLeft||o.scrollLeft;UI.Tip.cont.innerHTML=b.title;b.title="";c.cssText="";a.clientY<f/2?(c.top=a.clientY+l+"px"):(c.bottom=f-a.clientY-(UI.Browser.ie6?0:l)+"px");a.clientX<m/2?(c.left=a.clientX+g+12+"px"):(c.right=m-a.clientX-g+12+"px");UI.Tip.show();if(UI.Browser.ie6){a=UI.Tip.cover.style;b=UI.Tip.cont;a.display="block";a.width=b.offsetWidth+"px";a.height=b.offsetHeight+"px"}}});UI.EA(document,"mouseout",function(a){if(UI.Tip.cont.innerHTML){a=
window.event||a;a=UI.ET(a);a.title=UI.Tip.cont.innerHTML;UI.Tip.cont.innerHTML="";UI.Tip.hide()}})},show:function(){this.wrap.style.display="block"},hide:function(){this.wrap.style.display="none"}};UI.tipBox=function(a,b){if(UI.isString(a)){b=a;a=document.documentElement}if(!a)a=document.documentElement;b="."+(b?b:"tipBox");var c="__tipBox",g="tipbox",o;UI.each(UI.GC(a,b),function(m){UI.A(m,g,m.title);m.title="";function f(l){var p=UI.E(l).target,i=UI.A(p,g);if(!i){l=UI.parents(p,b.slice(1));if(l.length>0){p=l[0];i=UI.A(p,g)}else return false}o=setTimeout(function(){var h={html:i,target:p};if(i.length>500)h.large=true;UI[c].show(h)},300)}UI.EA(m,"mouseover",f);UI.EA(m,"focus",f);UI.EA(m,"mouseout",
function(){clearTimeout(o)})});UI.ready(function(){UI[c]=new UI.TipBox({name:"UI."+c})})};
UI.TipBox=function(a){this._body=UI.DC("div");this._body.className="tip_box";this._body.innerHTML='<a class="fix" href="javascript:void(0)" title="Hold" onclick="'+a.name+".__fix = !"+a.name+'.__fix;UI.toggleClass(this,\'on\');return false;" onfocus="this.blur()" tabindex="-1"></a><a class="close" href="javascript:void(0)" title="Close" onclick="'+a.name+'.hide();" tabindex="-1"></a><b class="arrow"></b><b class="shadow"></b><div class="wrap"><div class="title"></div><div class="cont"></div></div>'+(UI.Browser.ie6?
'<iframe src="javascript:false;" class="cover"></iframe>':"");this._close=UI.GC(this._body,"a.close")[0];this._fix=UI.GC(this._body,"a.fix")[0];this._arrow=UI.GC(this._body,"b.arrow")[0];this._shadow=UI.GC(this._body,"b.shadow")[0];this._wrap=UI.GC(this._body,"div.wrap")[0];this._title=UI.GC(this._body,"div.title")[0];this._cont=UI.GC(this._body,"div.cont")[0];this._cover=UI.GC(this._body,"iframe.cover")[0];this.__display=false;this.__large=a.__large;this.__fix=false;this._body.style.display="none";
document.body.appendChild(this._body);a.html&&this.show(a);var b=this._body,c=this._wrap,g=this._title,o=this._cover,m=this;this.key=function(f){switch(UI.E(f).key){case 27:m.__display&&m.hide();break}};UI.EA(document,"keyup",this.key);UI.EA(document,"click",function(f){!m.__fix&&UI.E(f).target!=m._target&&m.hide()});UI.EA(b,"click",function(f){UI.E(f).stop()});UI.Browser.ie6&&setInterval(function(){o.style.zoom=o.style.zoom=="1"?"0":"1"},200);(function(){var f,l,p,i;UI.drag(g,{start:function(h){h=
UI.E(h);h.prevent();f=h.x;l=h.y;UI.hide(m._arrow);i=parseInt(UI.C(b,"marginLeft"));p=parseInt(UI.C(b,"marginTop"))},drag:function(h){h=UI.E(h);h.prevent();b.style.marginLeft=i+h.x-f+"px";b.style.marginTop=p+h.y-l+"px"}},false)})();this._body.onmouseover=this._cont.onmousedown=function(f){UI.E(f).stop()};this.show=function(f){this.__display&&this._target!=f.target&&this.hide();if(this.__display)return false;UI.show(this._arrow);if(this.__large=f.large){c.style.cursor="move";b.style.width="400px";c.style.height=
"200px"}else c.style.cursor="";this._target=f.target;this.__html=this._cont.innerHTML=f.html;var l=0,p=0;l=0;switch("TH,TD,DT,DD,LI".hasString(this._target.nodeName)){case true:UI.prepend(this._body,this._target);l=parseInt(UI.C(this._target,"paddingLeft"));if(l==NaN)l=0;break;default:UI.before(this._body,this._target);break}this._body.style.display="";p=UI.windowHeight();f=UI.height(this._wrap);var i=UI.height(this._target),h=UI.windowWidth(),k=UI.width(this._wrap),n=UI.width(this._target),e=UI.getX(this._target),
j=UI.getY(this._target),q=7,r=17;j=UI.scrollY(this._target)+p-j-f;this._body.style.margin="0 0 0 "+(n+q-l)+"px";if(h<k+n+e&&1||h<k){UI.addClass(this._body,"right");this._body.style.marginLeft=-(k+q+l)+"px";this.__right=true}else{UI.removeClass(this._body,"right");this.__right=false}if((!this.__right&&n>=h-k||n>k||h-e-n<k)&&h>k&&h>e+k){r=9;l=parseInt(UI.C(this._target,"paddingTop"));p=parseInt(UI.C(this._target,"paddingBottom"));if(l==NaN)l=0;if(p==NaN)p=0;this._wrap.style.marginTop=this._fix.style.marginTop=
this._close.style.marginTop=this._shadow.style.marginTop="0";if(j-r<0){this._body.className="tip_box top";this._body.style.marginLeft="";this._body.style.marginTop=-f-r-l-p+2+"px"}else{this._body.className="tip_box bottom";this._body.style.marginLeft="";this._body.style.marginTop=i+r-l-p+2+"px"}}else{UI.removeClass(this._body,"top");UI.removeClass(this._body,"bottom");if(j<0){if(j>-23)j=-23;if(p<f)j=p-f;if(f-22<-j)j=22-f;this._wrap.style.marginTop=this._fix.style.marginTop=this._close.style.marginTop=
this._shadow.style.marginTop=j-4+"px";this._arrow.style.top="0"}else{this._wrap.style.marginTop=this._fix.style.marginTop=this._close.style.marginTop=this._shadow.style.marginTop="-2px";this._arrow.style.top=""}}if(this._cover)this._cover.style.cssText=UI.hasClass(this._body,"top")||UI.hasClass(this._body,"bottom")?"width:"+(k+4)+"px;height:"+(f+11)+"px;":"width:"+(k+9)+"px;height:"+(f+3)+"px;margin-top:"+this._wrap.style.marginTop;this._shadow.style.height=UI.height(this._wrap)+"px";this.__display=
true};this.hide=function(){UI.hide(this._body);this.__large=null;this.__display=false}};UI.Topology=function(a){var b=this;if(!a.line)a.line={};this.lineStyle={color:a.line.color||"black",width:a.line.width||1,alpha:a.line.alpha||1};this.canvas=UI.G(a.id);this.canvas.width=a.width;this.canvas.height=a.height;this.ctx=this.canvas.getContext("2d");this.ctx.strokeStyle=this.lineStyle.color;this.ctx.lineWidth=this.lineStyle.width;this.ctx.globalAlpha=this.lineStyle.alpha;this.ctx.save();this.body=UI.html('<div class="'+this.canvas.className+'"><div class="tmpBox"></div><div class="contBox"></div></div>')[0];
this.body.style.cssText="top:"+UI.getY(this.canvas)+"px;left:"+UI.getX(this.canvas)+"px;width:"+UI.width(this.canvas)+"px;height:"+UI.height(this.canvas)+"px;";this.tmpBox=UI.GC(this.body,".tmpBox")[0];this.contBox=UI.GC(this.body,".contBox")[0];this.currentId=this.current=this.tmp=null;this.data=a.data;this.dataTmp=this.cloneData(a.data);this.draw();UI.before(this.body,this.canvas);this.x=UI.getX(this.body);this.y=UI.getY(this.body);this.popupMenuData=a.popupMenu||{};if(a.popupMenu){this.popupMenu=
new UI.PopupMenu(this.body);this.popupMenu.setActions(this.popupMenuData.main);UI.EA(this.body,"mousedown",function(c){c=UI.E(c);if(c.button==2||UI.Browser.ie&&c.button==0)b.popupMenu.popup(b.popupMenuData.main)})}this.body.onselectstart=function(){return false}};
UI.Topology.prototype={draw:function(){this.currentId=null;this.parseData(this.data);this.drawLine(this.data)},drawIco:function(a,b){var c=this;if(a.complete){b.style.cssText+=";display:block;margin:0 0 0 -99999px;";setTimeout(function(){b.style.cssText+=";margin:-"+a.width/2+"px 0 0 -"+a.height/2+"px;"},0)}else setTimeout(function(){c.drawIco(a,b)},100)},drawLine:function(a,b){b||this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var c=0,g=a.length;c<g;c++){if(b){if(a[c].line){this.ctx.strokeStyle=
a[c].line.color||this.lineStyle.color;this.ctx.lineWidth=a[c].line.width||this.lineStyle.width;this.ctx.globalAlpha=a[c].line.alpha||this.lineStyle.alpha}this.line(b.x,b.y,a[c].x,a[c].y);this.ctx.restore();this.ctx.save()}a[c].son&&this.drawLine(a[c].son,{x:a[c].x,y:a[c].y})}},line:function(a,b,c,g){this.ctx.beginPath();this.ctx.moveTo(a,b);this.ctx.lineTo(c,g);this.ctx.stroke()},reset:function(){this.clear();this.data=this.cloneData(this.dataTmp);this.draw()},clear:function(){this.ctx.clearRect(0,
0,this.canvas.width,this.canvas.height);this.contBox.innerHTML=""},save:function(){this.dataTmp=this.cloneData(this.data)},add:function(a){if(this.currentId){var b=this.findData(this.currentId,this.data);parseInt(Math.random()*120);b.son=b.son||[];a.x=b.x+40+parseInt(Math.random()*60);a.y=b.y+parseInt(Math.random()*60);b.son.push(a)}else this.data.push(a);this.clear();this.draw()},edit:function(a){if(this.currentId){var b=this.findData(this.currentId,this.data);b.name=a.name;b.ico=a.ico;this.clear();
this.draw()}},remove:function(){if(this.currentId)try{this.findData(this.currentId.slice(0,-1),this.data).son.splice(this.currentId.slice(-1),1)}catch(a){this.data.splice(this.currentId.slice(-1),1)}this.clear();this.draw()},findData:function(a,b){b=b[a[0]];if(a.length==1)return b;else{a.splice(0,1);return this.findData(a,b.son)}},cloneData:function(a){for(var b=[],c=0,g=a.length;c<g;c++){var o={};for(var m in a[c])o[m]=a[c][m];if(a[c].son)o.son=this.cloneData(a[c].son);b.push(o)}return b},parseData:function(a,
b){for(var c=this,g=0,o=a.length;g<o;g++){var m=UI.DC("img"),f=UI.DC("span");m.ondragstart=f.onmousedown=this.prevent;f.onmouseover=function(){var l=false;if(c.tmpBox.innerHTML){var p=UI.A(this,"rel").toString().split(","),i=UI.A(c.tmp,"rel").toString().split(",");if(p.length<=i.length)l=true;else for(var h=0,k=i.length;h<k;h++)if(i[h]!=p[h]){l=true;break}}!UI.hasClass(this,"onSelf")&&l&&UI.addClass(this,"on")};f.onmouseout=function(){UI.removeClass(this,"on")};UI.A(f,"rel",b?b.rel+","+g:g);f.className=
"icon";f.style.cssText="top:"+a[g].y+"px;left:"+a[g].x+"px;";UI.drag(f,{start:function(l){return function(p){p=UI.E(p);if(p.button==2||UI.Browser.ie&&p.button==0){c.currentId=UI.A(l,"rel").toString().split(",");c.current=c.findData(c.currentId.concat([]),c.data);c.popupMenu.popup(c.popupMenuData.son);c.rightClick=true;p.stop();return false}else c.rightClick=false;UI.addClass(c.body,"onMove");UI.addClass(l,"onSelf");UI.removeClass(l,"on");c.tmp=l.cloneNode(l,true);c.tmp.style.cssText="top:"+(p.y-c.y)+
"px;left:"+(p.x-c.x)+"px;";c.tmpBox.appendChild(c.tmp)}}(f),drag:function(l){l=UI.E(l);if(c.rightClick)return false;c.tmp.style.cssText="top:"+(l.y-c.y)+"px;left:"+(l.x-c.x)+"px;"},stop:function(l,p){return function(){if(c.rightClick)return false;var i=UI.GC(c.contBox,".on");if(i.length){var h=UI.A(i[0],"rel").toString().split(",");i=UI.A(l,"rel").toString().split(",");h=c.findData(h,c.data);if(h.son)h.son.push(p);else h.son=[p];try{c.findData(i.slice(0,-1),c.data).son.splice(i.slice(-1),1)}catch(k){c.data.splice(i.slice(-1),
1)}c.clear();c.draw()}else{i=parseInt(UI.C(c.tmp,"left"));h=parseInt(UI.C(c.tmp,"top"));if(i<0)i=0;else if(i>c.canvas.width)i=c.canvas.width;if(h<0)h=0;else if(h>c.canvas.height)h=c.canvas.height;p.x=i;p.y=h;l.style.cssText+=";left:"+p.x+"px;top:"+p.y+"px;";c.drawLine(c.data)}UI.removeClass(c.body,"onMove");UI.removeClass(l,"onSelf");c.tmpBox.innerHTML=""}}(f,a[g])},false);UI.A(m,"src",a[g].ico);if(m.complete)this.drawIco(m,f);else m.onload=function(l,p){return function(){c.drawIco(l,p)}}(m,f);f.innerHTML=
"<b>"+a[g].name+"</b>";f.appendChild(m);this.contBox.appendChild(f);a[g].son&&this.parseData(a[g].son,{x:a[g].x,y:a[g].y,rel:UI.A(f,"rel")})}},prevent:function(a){UI.E(a).prevent()}};
